<!-- API Key: AIzaSyAAagpj2fZQDVn42YmPyCNh24HhWUh4aE0-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Sports Finder</title>
    <link href="styles/mapStyle.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="scripts/script.js" type="text/javascript"></script>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
  </head>
  <body onLoad="onLoad()" onResize="">
    <div class="hiddenHeaderSection">
      <a class="listViewButton">≡</a>
      <a class="mapViewButton" href="map.php">⮙</a>
    </div>
    <header class="headerSectionOne">
      <h1>Sports Finder</h1>
    </header>
    <div class="headerSectionTwo">
    </div>
    <main class="mainSection">
      <div id="map"></div>
      <script>
        function initMap() {
          var goldCoast = {lat: -28.0167, lng: 153.4000};
          var bundaberg = {lat: -27.509344, lng: 152.984260};
          var gladstone = {lat: -27.495437, lng: 152.971805};
          var emuPark = {lat: -27.480473, lng: 152.980185};
          var UQ = {lat: -27.494689, lng: 153.015781};
 	      var Toowong = {lat: -27.480779, lng: 152.992348};
     	  var Ironside = {lat: -27.500302, lng: 152.996156}
          var Robertson = {lat: -27.503003, lng: 152.990026}
          var Indooroopilly = {lat:-27.499802, lng: 152.984552 }
          var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 13,
            center: UQ,
          });

          //basketball
          var contentString = '<div id="content">'+
          '<h1 id="firstHeading" class="firstHeading">UQ</h1>'+
          '<div id="bodyContent">'+
          '<p><a href = "https://projects.invisionapp.com/d/main#/console/12291397/258526723/preview"><b>Link to court page</b></a></p>'+
          '</div>'+
          '</div>';

          //soccer
          var contentString2 = '<div id="content2">'+
          '<h1 id="firstHeading" class="firstHeading">ANZAC Park</h1>'+
          '<div id="bodyContent">'+
          '<p><a href = "https://projects.invisionapp.com/d/main#/console/12291397/258516863/preview"><b>Link to court page</b></a></p>'+
          '</div>'+
          '</div>';

          //tennis
          var contentString3 = '<div id="content2">'+
          '<h1 id="firstHeading" class="firstHeading">Indooroopilly Tennis Courts</h1>'+
          '<div id="bodyContent">'+
          '<p><a href = "https://projects.invisionapp.com/d/main#/console/12291397/258526900/preview"><b>Link to court page</b></a></p>'+
          '</div>'+
          '</div>';

        var infowindow = new google.maps.InfoWindow({
            content: contentString
        });

        var infowindow2 = new google.maps.InfoWindow({
            content: contentString2
        });

        var infowindow3 = new google.maps.InfoWindow({
            content: contentString3
        });

          var icon = {
            url: 'images/soccer.png',
            scaledSize: new google.maps.Size(50, 50)
          }
          var icon2 = {
            url: 'images/basketball.png',
            scaledSize: new google.maps.Size(50, 50)
          }
          var icon3 = {
            url: 'images/tennis.png',
            scaledSize: new google.maps.Size(50, 50)
          }
          var icon4 = {
            url: 'images/bball jersey green.png',
            scaledSize: new google.maps.Size(50, 50)
          }
          var icon5 = {
            url: 'images/bball jersey orange.png',
            scaledSize: new google.maps.Size(50, 50)
          }
          var icon6 = {
            url: 'images/bball jersey red.png',
            scaledSize: new google.maps.Size(50, 50)
          }
          var icon7 = {
            url: 'images/soccer orange.png',
            scaledSize: new google.maps.Size(50, 50)
          }
          var icon8 = {
            url: 'images/soccer red.png',
            scaledSize: new google.maps.Size(50, 50)
          }
          var icon9 = {
            url: 'images/soccer green.png',
            scaledSize: new google.maps.Size(50, 50)
          }
          var icon10 = {
            url: 'images/tennis red.png',
            scaledSize: new google.maps.Size(50, 50)
          }
          var icon11 = {
            url: 'images/tennis green.png',
            scaledSize: new google.maps.Size(50, 50)
          }
          //var icon = new google.maps.MarkerImage('images/marker-02.svg');
          var posIcon = {
            url: 'images/marker-01.svg',
            scaledSize: new google.maps.Size(20, 20)
          }
          var marker1 = new google.maps.Marker({
            position: UQ,
            map: map, icon: icon5, optimized: false
          });
          marker1.addListener('click', function() {
          	infowindow.open(map, marker1);
          });
          var marker2 = new google.maps.Marker({
            position: Toowong,
            map: map, icon: icon4, optimized: false
          });
          marker2.addListener('click', function() {
            infowindow.open(map, marker2);
          });
          var marker3 = new google.maps.Marker({
            position: Ironside,
            map: map, icon: icon6, optimized: false
          });
          marker3.addListener('click', function() {
            infowindow.open(map, marker3);
          });
          var marker4 = new google.maps.Marker({
            position: Robertson,
            map: map, icon: icon7, optimized: false
          });3
          marker4.addListener('click', function() {
            infowindow2.open(map, marker4);
          });
          var marker5 = new google.maps.Marker({
            position: Indooroopilly,
            map: map, icon: icon8, optimized: false
          });
          marker5.addListener('click', function() {
            infowindow2.open(map, marker5);
          });
          var marker6 = new google.maps.Marker({
            position: goldCoast,
            map: map, icon: icon, optimized: false
          });
          marker6.addListener('click', function() {
            infowindow2.open(map, marker6);
          });
          var marker7 = new google.maps.Marker({
            position: bundaberg,
            map: map, icon: icon10, optimized: false
          });
          marker7.addListener('click', function() {
            infowindow3.open(map, marker7);
          });

          var marker8 = new google.maps.Marker({
            position: gladstone,
            map: map, icon: icon11, optimized: false
          });
          marker8.addListener('click', function() {
            infowindow3.open(map, marker8);
          });

          var marker9 = new google.maps.Marker({
            position: emuPark,
            map: map, icon: icon9, optimized: false
          });
          marker9.addListener('click', function() {
            infowindow2.open(map, marker9);
          });

          // Try HTML5 geolocation.
          if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
              var pos = {
                lat: position.coords.latitude,
                lng: position.coords.longitude
              };

              var marker8 = new google.maps.Marker({
                position: pos,
                map: map, icon: posIcon, optimized: false
              });
              marker8.addListener('click', function() {
                map.setCenter(pos);
              });

              //infoWindow.setPosition(pos);
              //infoWindow.setContent('Location');
              //infoWindow.open(map);
              map.setCenter(pos);
            }, function() {
              handleLocationError(true, infoWindow, map.getCenter());
            });
          } else {
            // Browser doesn't support Geolocation
            handleLocationError(false, infoWindow, map.getCenter());
          }
        }
		

        function handleLocationError(browserHasGeolocation, infoWindow, pos) {
          infoWindow.setPosition(pos);
          infoWindow.setContent(browserHasGeolocation ?
                                'Error: The Geolocation service failed.' :
                                'Error: Your browser doesn\'t support geolocation.');
          infoWindow.open(map);
        }
      </script>
      <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAAagpj2fZQDVn42YmPyCNh24HhWUh4aE0&callback=initMap">
      </script>
    </main>

  </body>
</html>
